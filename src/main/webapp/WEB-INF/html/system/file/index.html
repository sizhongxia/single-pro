<!DOCTYPE html>
<html>
<head>
<#include "../../common/public.html">
</head>

<body>

	<!-- layout布局 开始 -->
	<div data-toggle="topjui-layout" data-options="fit:true">
	    <div data-options="region:'center',title:'文件',fit:true,split:true,border:false,iconCls:'fa'">
	        <!-- datagrid表格 -->
	        <table data-toggle="topjui-datagrid"
	               data-options="id: 'systemFileDg',
			            rownumbers: !0,
			            pagination: !0,
	                    method: 'post',
			            pageSize: 10,
			            editable: !1,
		                url: remoteHost+ '/systemFile/list'">
	            <thead>
		            <tr>
	                	<th data-options="field:'id',title:'ID',checkbox:true"></th>
		                <th data-options="field:'originalName',title:'原名称'"></th>
		                <th data-options="field:'path',title:'访问路径',formatter:function(value, rowData, rowIndex){
		                	 return '<a href=\'' + rowData.path + '\' target=\'_blank\'>' + value + '</a>';
		                }"></th>
		                <th data-options="field:'type',title:'类别',sortable:true"></th>
		                <th data-options="field:'size',title:'大小',sortable:true"></th>
		                <th data-options="field:'uploadTime',title:'上传时间',formatter:timeFormatter"></th>
		            </tr>
	            </thead>
	        </table>
	    </div>
	</div>
	<!-- layout布局 结束 -->
	
	<!-- 表格工具栏开始 -->
	<div id="systemFileDg-toolbar" class="topjui-toolbar"
			data-options="grid:{type:'datagrid',id:'systemFileDg'}"
			style="display:none">
	      
	   	 <a href="javascript:void(0)"
	       data-toggle="topjui-menubutton"
	       data-options="method:'upload',
	       extend: '#systemFileDg-toolbar',
	       iconCls: 'fa fa-cloud-upload',
	       uploadUrl: remoteHost + '/systemFile/saveFile',
	       dialog:{
               title: '上传文件',
	           width: 620,
	           height: 450
	       }">上传</a>
	       
	   <a href="javascript:void(0)"
	       data-toggle="topjui-menubutton"
	       data-options="method:'doAjax',
	       extend: '#systemFileDg-toolbar',
	       btnCls:'topjui-btn-normal',
	       iconCls:'fa fa-trash',
	       url: remoteHost + '/systemFile/delete',
	       grid: {uncheckedMsg:'请先勾选要删除的数据',param:'id:id'}">删除</a>
	</div>
	<!-- 表格工具栏结束 -->
	<script>
	    function timeFormatter(value, rowData, rowIndex) {
	        var htmlstr = '<div>';
	        htmlstr += moment(value).format('YYYY-MM-DD HH:mm:ss');
	        htmlstr += '</div>';
	        return htmlstr;
	    }
	</script>
</body>
</html>